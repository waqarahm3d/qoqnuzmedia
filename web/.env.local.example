# ================================================
# QOQNUZ MUSIC - ENVIRONMENT VARIABLES
# ================================================
# Copy this file to .env.local and fill in your values
# IMPORTANT: Never commit .env.local to git!
# ================================================

# ================================================
# Supabase Configuration (REQUIRED)
# ================================================
# Get these from: https://app.supabase.com → Project Settings → API

# Your Supabase project URL (starts with https://xxx.supabase.co)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase anon/public key (safe to expose to client)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase service role key (KEEP SECRET - server-side only)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ================================================
# Cloudflare R2 Configuration (REQUIRED)
# ================================================
# Get these from: https://dash.cloudflare.com → R2 → Manage R2 API Tokens

# Your Cloudflare Account ID
R2_ACCOUNT_ID=your-r2-account-id

# R2 API Access Key ID
R2_ACCESS_KEY_ID=your-r2-access-key-id

# R2 API Secret Access Key (KEEP SECRET)
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# R2 Bucket Name (create this in R2 dashboard)
R2_BUCKET_NAME=qoqnuz-media

# R2 Endpoint URL (use your account ID)
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# ================================================
# App Configuration
# ================================================

# CRITICAL FOR PRODUCTION: Your app's public URL
# Development: http://localhost:3000
# Production: https://app.qoqnuz.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment (development or production)
NODE_ENV=development

# ================================================
# Admin Configuration (OPTIONAL)
# ================================================
# Comma-separated list of admin emails
# Users with these emails get Super Admin access automatically

# Server-side admin check (used by API routes)
ADMIN_EMAILS=admin@qoqnuz.com,youremail@example.com

# Client-side admin check (used by admin pages - MUST match ADMIN_EMAILS)
# IMPORTANT: The NEXT_PUBLIC_ prefix makes it available in browser
NEXT_PUBLIC_ADMIN_EMAILS=admin@qoqnuz.com,youremail@example.com

# ================================================
# Audio Processor Integration (NEW)
# ================================================

# URL of the audio processor service
# Development: http://localhost:8000
# Production: http://your-vps-ip:8000 or https://audio.qoqnuz.com
AUDIO_PROCESSOR_URL=http://localhost:8000

# API key for audio processor (must match AUDIO_PROCESSOR_API_KEY in audio processor .env)
AUDIO_PROCESSOR_API_KEY=your-audio-processor-api-key

# Enable whitelist for downloads (only approved channels/users)
DOWNLOAD_WHITELIST_ENABLED=false

# ================================================
# PRODUCTION DEPLOYMENT NOTES:
# ================================================
# When deploying to production (app.qoqnuz.com):
# 1. Change NEXT_PUBLIC_APP_URL to: https://app.qoqnuz.com
# 2. Change NODE_ENV to: production
# 3. Change AUDIO_PROCESSOR_URL to your VPS IP or domain
# 4. Set strong AUDIO_PROCESSOR_API_KEY
# 5. Ensure all other variables are set correctly
# 6. Run: pnpm build
# 7. Run: pm2 restart qoqnuz-web
# ================================================
